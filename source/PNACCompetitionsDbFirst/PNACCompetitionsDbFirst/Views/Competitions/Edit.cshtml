@using PNACCompetitionsDbFirst.Models.ViewModels
@using PNACCompetitionsDbFirst.Models.ViewModels.Entries;

@model CompetitionEdit

@{
  ViewBag.Title = "Edit " + @Model.Venue;
}


<style>
  body {
    display: none;
  }

  .table-responsive {
    border: none;
    outline: none;
  }

  @@media (max-width: 991px) {
    .entries-row {
      padding: 0;
    }

    .body-content {
      padding: 2px;
    }

    .btn {
      margin-bottom: 10px;
    }
  }
</style>


<div class="row">
  <div class="col-md-8">
    <h2>Edit @Model.Venue</h2>
  </div>
</div>

<script>

  $(function () {

    $('#tabs').tabs({ active: @Model.ActiveTab() });
    $('body').show();

  });



</script>

<div id="tabs">
  <ul>
    <li><a href="#details-tab">Details</a></li>
    <li><a href="#competitors-tab">Competitors</a></li>

    @if (Model.Begun)
    {
      <li><a href="#catches-tab">Catches</a></li>
      <li><a href="#length-results-tab">Length Results</a></li>
      <li><a href="#weightresults-tab">Weight Results</a></li>
    }
    else
    {
      <script>

        $(function () {

          $('#catches-tab').hide();
          $('#length-results-tab').hide();
          $('#weightresults-tab').hide();

        });

      </script>
    }

  </ul>

  <div id="details-tab" class="row">
    <div class="col-md-12">

      @using (Html.BeginForm("Edit", "Competitions", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
      {
        @Html.AntiForgeryToken()
        @Html.EditorFor(m => m)
        @Html.HiddenFor(m => m.Begun)
      }

    </div>
  </div>

  @Html.Partial("/Views/Competitions/EditEntries.cshtml", Model)
  @Html.Partial("/Views/Competitions/EditCatches.cshtml", Model.CompetitionResults)
  @Html.Partial("/Views/Competitions/LengthResults.cshtml", Model.CompetitionResults)
  @Html.Partial("/Views/Competitions/WeightResults.cshtml", Model.CompetitionResults)

</div>

@section Scripts {
  @Scripts.Render("~/bundles/jqueryval")
}

